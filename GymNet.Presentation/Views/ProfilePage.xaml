<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:GymNet.Presentation.ViewModels"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="GymNet.Presentation.Views.ProfilePage"
             x:DataType="vm:ProfileViewModel"
             BackgroundColor="{StaticResource ColorBackground}">

	<Grid>
		<!-- Fondo -->
		<Grid.Background>
			<LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
				<GradientStop Color="#020617" Offset="0.0" />
				<GradientStop Color="#0B1120" Offset="0.45" />
				<GradientStop Color="#020617" Offset="1.0" />
			</LinearGradientBrush>
		</Grid.Background>

		<ScrollView>
			<VerticalStackLayout Padding="{OnIdiom Phone='16,32,16,16', Tablet='24,40,24,24'}"
                                 Spacing="20"
                                 HorizontalOptions="Center"
                                 MaximumWidthRequest="{OnIdiom Phone=420, Tablet=640}">

				<!-- Header perfil -->
				<Grid ColumnDefinitions="Auto,*"
                      ColumnSpacing="14">
					<!-- Avatar sin Frame -->
					<Border WidthRequest="70"
                            HeightRequest="70"
                            BackgroundColor="#0F172A"
                            StrokeThickness="0">
						<Border.StrokeShape>
							<RoundRectangle CornerRadius="35" />
						</Border.StrokeShape>
						<Label Text="{Binding Initials}"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"
                               TextColor="White"
                               FontSize="28"
                               FontAttributes="Bold" />
					</Border>

					<VerticalStackLayout Spacing="2"
                                         VerticalOptions="Center">
						<Label Text="{Binding DisplayName}"
                               FontSize="20"
                               FontAttributes="Bold"
                               TextColor="{StaticResource ColorTextPrimary}" />
						<Label Text="{Binding Username}"
                               FontSize="13"
                               TextColor="{StaticResource ColorTextMuted}" />
						<Label Text="{Binding Email}"
                               FontSize="12"
                               TextColor="{StaticResource ColorTextMuted}" />
					</VerticalStackLayout>
				</Grid>

				<!-- Stats -->
				<Grid ColumnDefinitions="*,*,*"
                      ColumnSpacing="10">

					<Border BackgroundColor="{StaticResource ColorBackgroundCard}"
                            Stroke="{StaticResource ColorPrimary}"
                            StrokeThickness="1"
                            Padding="10">
						<Border.StrokeShape>
							<RoundRectangle CornerRadius="14" />
						</Border.StrokeShape>
						<VerticalStackLayout Spacing="2"
                                             HorizontalOptions="Center">
							<Label Text="{Binding WorkoutsThisWeek}"
                                   FontSize="18"
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource ColorPrimary}" />
							<Label Text="Entrenos"
                                   FontSize="11"
                                   TextColor="{StaticResource ColorTextMuted}" />
							<Label Text="esta semana"
                                   FontSize="10"
                                   TextColor="{StaticResource ColorTextMuted}" />
						</VerticalStackLayout>
					</Border>

					<Border BackgroundColor="{StaticResource ColorBackgroundCard}"
                            StrokeThickness="0"
                            Padding="10">
						<Border.StrokeShape>
							<RoundRectangle CornerRadius="14" />
						</Border.StrokeShape>
						<VerticalStackLayout Spacing="2"
                                             HorizontalOptions="Center">
							<Label Text="{Binding StreakDays}"
                                   FontSize="18"
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource ColorAccent}" />
							<Label Text="Racha"
                                   FontSize="11"
                                   TextColor="{StaticResource ColorTextMuted}" />
							<Label Text="días seguidos"
                                   FontSize="10"
                                   TextColor="{StaticResource ColorTextMuted}" />
						</VerticalStackLayout>
					</Border>

					<Border BackgroundColor="{StaticResource ColorBackgroundCard}"
                            StrokeThickness="0"
                            Padding="10">
						<Border.StrokeShape>
							<RoundRectangle CornerRadius="14" />
						</Border.StrokeShape>
						<VerticalStackLayout Spacing="2"
                                             HorizontalOptions="Center">
							<Label Text="{Binding Level}"
                                   FontSize="13"
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource ColorTextPrimary}" />
							<Label Text="{Binding GymName}"
                                   FontSize="10"
                                   TextColor="{StaticResource ColorTextMuted}"
                                   HorizontalTextAlignment="Center" />
						</VerticalStackLayout>
					</Border>
				</Grid>

				<!-- Seguidores -->
				<Grid ColumnDefinitions="*,*"
                      ColumnSpacing="10">
					<Border BackgroundColor="{StaticResource ColorBackgroundCard}"
                            StrokeThickness="0"
                            Padding="10">
						<Border.StrokeShape>
							<RoundRectangle CornerRadius="14" />
						</Border.StrokeShape>
						<VerticalStackLayout Spacing="2"
                                             HorizontalOptions="Center">
							<Label Text="{Binding Followers}"
                                   FontSize="18"
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource ColorTextPrimary}" />
							<Label Text="Seguidores"
                                   FontSize="11"
                                   TextColor="{StaticResource ColorTextMuted}" />
						</VerticalStackLayout>
					</Border>

					<Border BackgroundColor="{StaticResource ColorBackgroundCard}"
                            StrokeThickness="0"
                            Padding="10">
						<Border.StrokeShape>
							<RoundRectangle CornerRadius="14" />
						</Border.StrokeShape>
						<VerticalStackLayout Spacing="2"
                                             HorizontalOptions="Center">
							<Label Text="{Binding Following}"
                                   FontSize="18"
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource ColorTextPrimary}" />
							<Label Text="Siguiendo"
                                   FontSize="11"
                                   TextColor="{StaticResource ColorTextMuted}" />
						</VerticalStackLayout>
					</Border>
				</Grid>

				<!-- Objetivos / resumen -->
				<VerticalStackLayout Spacing="8">
					<Label Text="Objetivos actuales"
                           FontSize="15"
                           FontAttributes="Bold"
                           TextColor="{StaticResource ColorTextPrimary}" />

					<Border BackgroundColor="{StaticResource ColorBackgroundCard}"
                            StrokeThickness="0"
                            Padding="12">
						<Border.StrokeShape>
							<RoundRectangle CornerRadius="14" />
						</Border.StrokeShape>

						<VerticalStackLayout Spacing="6">
							<HorizontalStackLayout Spacing="8">
								<Label Text="•"
                                       TextColor="{StaticResource ColorPrimary}" />
								<Label Text="Entrenar al menos 4 días por semana."
                                       FontSize="13"
                                       TextColor="{StaticResource ColorTextMuted}" />
							</HorizontalStackLayout>
							<HorizontalStackLayout Spacing="8">
								<Label Text="•"
                                       TextColor="{StaticResource ColorPrimary}" />
								<Label Text="Mejorar 10 kg en press banca en 3 meses."
                                       FontSize="13"
                                       TextColor="{StaticResource ColorTextMuted}" />
							</HorizontalStackLayout>
							<HorizontalStackLayout Spacing="8">
								<Label Text="•"
                                       TextColor="{StaticResource ColorPrimary}" />
								<Label Text="Mantener la racha sin faltar al gym."
                                       FontSize="13"
                                       TextColor="{StaticResource ColorTextMuted}" />
							</HorizontalStackLayout>
						</VerticalStackLayout>
					</Border>
				</VerticalStackLayout>

				<!-- Botón de acción futura (placeholder) -->
				<Button Text="Editar perfil"
                        Style="{StaticResource PrimaryButtonStyle}">
					<Button.Behaviors>
						<toolkit:TouchBehavior PressedScale="0.95" />
					</Button.Behaviors>
				</Button>

				<!-- Cerrar sesión -->
				<Button Text="Cerrar sesión"
                        Command="{Binding LogoutCommand}"
                        BackgroundColor="Transparent"
                        TextColor="{StaticResource ColorDanger}"
                        FontSize="13"
                        Margin="0,4,0,0" />

			</VerticalStackLayout>
		</ScrollView>
	</Grid>
</ContentPage>