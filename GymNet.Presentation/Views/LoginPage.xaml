<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="GymNet.Presentation.Views.LoginPage"
             BackgroundColor="{StaticResource ColorBackground}">

    <Grid Padding="24">

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <VerticalStackLayout Grid.Row="0"
                             Spacing="8"
                             Margin="0,24,0,16">
            <Label Text="{Binding HeaderText}"
                   FontSize="28"
                   FontAttributes="Bold"
                   TextColor="{StaticResource ColorTextPrimary}" />

            <Label Text="Conecta con tu gente del gym, comparte entrenos y progresos."
                   FontSize="13"
                   TextColor="{StaticResource ColorTextMuted}" />
        </VerticalStackLayout>

        <!-- Formulario -->
        <VerticalStackLayout Grid.Row="1"
                             Spacing="14"
                             VerticalOptions="Center">

            <VerticalStackLayout Spacing="4">
                <Label Text="Correo electrónico"
                       FontSize="13"
                       TextColor="{StaticResource ColorTextMuted}" />
                <Entry Style="{StaticResource EntryStyle}"
                       Placeholder="tu@correo.com"
                       Text="{Binding Email}"
                       Keyboard="Email"
                       TextColor="{StaticResource ColorTextPrimary}" />
            </VerticalStackLayout>

            <VerticalStackLayout Spacing="4">
                <Label Text="Contraseña"
                       FontSize="13"
                       TextColor="{StaticResource ColorTextMuted}" />
                <Entry Style="{StaticResource EntryStyle}"
                       Placeholder="••••••••"
                       Text="{Binding Password}"
                       IsPassword="True"
                       TextColor="{StaticResource ColorTextPrimary}" />
            </VerticalStackLayout>

            <!-- Mensaje de error (si está vacío, no se verá nada) -->
            <Label Text="{Binding ErrorMessage}"
                   FontSize="12"
                   TextColor="{StaticResource ColorDanger}" />

            <!-- Botón principal -->
            <Button Text="{Binding PrimaryButtonText}"
                    Style="{StaticResource PrimaryButtonStyle}"
                    Command="{Binding PrimaryCommand}" />

        </VerticalStackLayout>

        <!-- Cambio de modo (login/registro) -->
        <VerticalStackLayout Grid.Row="2"
                             Spacing="4"
                             Margin="0,16,0,24"
                             HorizontalOptions="Center">
            <Label Text="{Binding SecondaryText}"
                   FontSize="13"
                   TextColor="{StaticResource ColorTextMuted}">
                <Label.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding ToggleModeCommand}" />
                </Label.GestureRecognizers>
            </Label>
        </VerticalStackLayout>

    </Grid>
</ContentPage>
